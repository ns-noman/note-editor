import{r as s,j as e,L as p}from"./app-CSznG3rQ.js";import{A as h}from"./app-layout-C7UGdUqL.js";import{B as k}from"./app-logo-icon-Cfz_3CPX.js";import"./index-BiYi1Zhe.js";import"./index-CY09KQQX.js";const w=[];function z(){const[t,i]=s.useState(""),[u,a]=s.useState(""),[d,l]=s.useState(!1),c=async()=>{var n;if(!t.trim())return;l(!0),a("");const o=(n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content");try{const r=await fetch("/notes/summarize",{method:"POST",headers:{"Content-Type":"application/json",Accept:"text/event-stream","X-CSRF-TOKEN":o||""},body:JSON.stringify({details:t})});if(!r.ok||!r.body)throw new Error(`HTTP error! status: ${r.status}`);const m=r.body.getReader(),x=new TextDecoder("utf-8");for(;;){const{done:g,value:b}=await m.read();if(g)break;const f=x.decode(b,{stream:!0});a(y=>y+f)}}catch(r){console.error("Error:",r),a("❌ Failed to summarize. Please try again.")}finally{l(!1)}};return e.jsxs(h,{breadcrumbs:w,children:[e.jsx(p,{title:"Summarize"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"w-full lg:w-1/2 h-full p-6 overflow-y-auto bg-white dark:bg-gray-900 rounded-xl border border-sidebar-border/70 dark:border-sidebar-border space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Note Input"}),e.jsx("textarea",{rows:12,value:t,onChange:o=>i(o.target.value),placeholder:"Write your note here...",className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(k,{onClick:c,variant:"outline",className:"text-sm",disabled:d,children:d?"Summarizing...":"🧠 Summarize"})})]}),e.jsx("div",{className:"w-full lg:w-1/2 h-full p-6 overflow-y-auto bg-white dark:bg-gray-900 rounded-xl border border-sidebar-border/70 dark:border-sidebar-border space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Summarized Output"}),e.jsx("textarea",{rows:12,value:u,readOnly:!0,className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-700 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-gray-100 resize-none"})]})})]})})]})}export{z as default};
